# useRestaurantToggle React hook

Use this to get the states of Restaurant Feature Toggles.

You can pass either a single, or a list of feature toggle names.

You can check for either `ALL`, or `ANY` requested toggles.

This hook is just a wrapper over the `shared-utils/checkRestaurantToggle` function.

## Basic use example

Get feature toggles one by one and use them individually

```tsx
import useRestaurantToggles, { CheckType } from 'shared-react-utils/useRestaurantToggles';

function MyComponent() {
  const showNewLayout = useRestaurantToggles(rid, 'newLayoutToggle');
  const isSyncEnabled = useRestaurantToggles(rid, 'dataSyncToggle');

  return (
    <div className={showNewLayout ? 'new' : 'old'}>
      <p>Globally available content</p>
      { isSyncEnabled && <p>Data sync is ON</p> }
    </div>
  );
}
```

**Note:** Checking for multiple feature toggles will NOT make multiple requests.
Instead, the helper function underneath will share the request resource, and it will resolve for all as soon as the request completes.
The result from the original response is cached, so subsequent checks will resolve immediately, without making any further requests.

## Checking for multiple toggles at the same time

This will resolve for a set of feature toggles:
- for `ALL` of them (all requested toggles need to be enabled)
- for `ANY` of them (at least one toggle needs to be enabled)

```tsx
import useRestaurantToggles, { CheckType } from 'shared-react-utils/useRestaurantToggles';

function MyComponent() {
  const complexFeatureCheck = useRestaurantToggles(
    rid,
    ['newLayoutToggle', 'dataSyncToggle],
    CheckType.all, // or CheckType.any; `any` is the default
  );

  return (
    <div>
      <p>Globally available content</p>
      { complexFeatureCheck && <p>New Layout with Data Sync Enabled</p> }
    </div>
  );
}
```

## Definitions

The hook has the following type signature:

```ts
function useRestaurantToggles(
    rid: number,
    featureName: string | string[],
    check: CheckType
): boolean
```

where:

```ts
enum CheckType {
  all = 'all',
  any = 'any',
}
```
