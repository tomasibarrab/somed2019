import { IntlProvider } from 'react-intl';

import { keys } from '../../../translations/bundles/marketing.json';
import mockCampaigns from '../mockCampaigns.json';
import convertStringsToDisplayFormat from './convertStringsToDisplayFormat';

jest.doMock('../../../common/App/App');
jest.mock('../../../PrivateDining/PrivateDining', () => () => 'MockPrivateDining');

describe('convertStringsToDisplayFormat()', () => {
  it('should convert strings to displayable format with totals', () => {
    const intlProvider = new IntlProvider({ locale: 'en', messages: keys }, {});
    const intl = intlProvider.getChildContext().intl;

    expect(convertStringsToDisplayFormat(mockCampaigns, intl)).toMatchSnapshot();
  });
});
