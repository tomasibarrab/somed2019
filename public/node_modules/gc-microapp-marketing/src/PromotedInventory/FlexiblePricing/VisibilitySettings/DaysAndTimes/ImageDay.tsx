import { get } from 'lodash';
import { tealLight } from 'otkit-colors/token.common.js';
import React, { ReactNode, SFC } from 'react';
import { FormattedMessage } from 'react-intl';
import { Days, DaySchedule, Times } from '../../../../store/flexiblepricing/flexiblepricing.types';
import CheckIcon from './images/CheckIcon';

interface Props {
  daySchedule: DaySchedule;
  key: Days;
  day: Days;
  selected: boolean;
  onClickDay: () => void;
}

const hasTimes = (daySchedule: DaySchedule) =>
  Object.values(Times).reduce((acc: boolean, time: Times) => acc || daySchedule[time] === true, false);

const ImageDay: SFC<Props> = ({ daySchedule, selected, day, onClickDay }) => (
  <div className={`day-label-container ${selected ? 'selected-day' : ''}`} onClick={() => onClickDay()}>
    <FormattedMessage id={`days.${day}.short`} />
    {hasTimes(daySchedule) && (
      <span className="check-icon">
        <CheckIcon width="13" height="9" fill={tealLight} />
      </span>
    )}
  </div>
);

export default ImageDay;
