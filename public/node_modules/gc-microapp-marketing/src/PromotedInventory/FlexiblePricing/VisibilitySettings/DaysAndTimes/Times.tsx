import { get } from 'lodash';
import React, { ReactNode, SFC } from 'react';
import { Days, DaySchedule, Times as TimesType } from '../../../../store/flexiblepricing/flexiblepricing.types';
import { times } from '../../../constants';
import Time from './Time';
import { SetDayAndTime, SetTime } from './types';

interface Props {
  selectedIcon: ReactNode;
  selectedDay: Days;
  setTime: SetTime;
  daySchedule: DaySchedule;
}

const Times: SFC<Props> = ({ selectedIcon, selectedDay, setTime, daySchedule }) => (
  <div className="times">
    <ul>
      {Object.values(TimesType).map((time: TimesType) => (
        <Time
          key={time}
          time={time}
          i18nKey={times[time].i18nKey}
          setValue={(value: boolean) => {
            setTime(time, value);
          }}
          value={get(daySchedule, time, false)}
          selectedIcon={selectedIcon}
        />
      ))}
    </ul>
  </div>
);

export default Times;
