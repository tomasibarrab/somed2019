import { mount } from 'enzyme';
import React from 'react';
import { IntlProvider } from 'react-intl';
import { keys } from '../../translations/bundles/marketing.json';

import { DisplaySpecialTypes } from '../../store/campaigns/campaigns.types';
import { AlcoholWarning } from './AlcoholWarning';

describe('AlcoholWarning', () => {
  const scenarios = [
    {
      description: 'render warning for Drink-related Special type',
      type: DisplaySpecialTypes.ComplimentaryDrink,
    },
    {
      description: 'render nothing for non-drink-related Special type',
      type: DisplaySpecialTypes.ComplimentaryAppetizer,
    },
  ];

  scenarios.forEach(({ description, type }) => {
    it(description, () => {
      const wrapper = mount(
        <IntlProvider messages={keys} locale="en-US">
          <AlcoholWarning type={type} />
        </IntlProvider>,
      );

      const warning = wrapper.find('[data-testid="alcohol-warning"]');
      expect(warning.debug()).toMatchSnapshot();
    });
  });
});
