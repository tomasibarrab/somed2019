import { DiscardActionTypes } from '../../../store/campaigns/campaigns.types';
import validate from './validate-change-or-remove-form';

describe('Change or remove form validator', () => {
  it('has no errors when action is Remove or Description is present', () => {
    const valuesWithTypeRemove = {
      action: DiscardActionTypes.Remove,
    };

    let errors = validate(valuesWithTypeRemove);
    expect(errors).toEqual({});

    const valuesWithDescription = {
      action: DiscardActionTypes.RequestChange,
      description: 'aaaa',
    };

    errors = validate(valuesWithDescription);
    expect(errors).toEqual({});
  });

  it('has error when action is RequestChange and there is no description', () => {
    const values = {
      action: DiscardActionTypes.RequestChange,
      description: '',
    };

    const errors = validate(values);
    expect(errors).toEqual({ description: true });
  });
});
