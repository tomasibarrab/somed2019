import { Button, FeatureToggle, Panel } from 'gca-react-components';
import React, { SFC } from 'react';
import { FormattedMessage, InjectedIntlProps, injectIntl } from 'react-intl';
import { LINK_TO_CREATE_CUSTOM_PROMOTION, LINK_TO_TEST_KITCHEN } from '../constants';
import './CustomPromotionsLandingPage.scss';
import NullStateIcon from './NullStateIcon';

type Props = { clickCallToAction: (data: any) => void; rid: any } & InjectedIntlProps;

const CustomPromotionsLandingPage: SFC<Props> = ({ clickCallToAction, intl, rid }) => (
  <Panel title={intl.formatMessage({ id: 'guestcampaigns.list.custom_promotions' })}>
    <div className="custom-promotions-landing-page">
      <FormattedMessage id="guestcampaigns.custompromotions.landingpage.headline" tagName="h3" />
      <div>
        <NullStateIcon />
      </div>
      <FormattedMessage id="guestcampaigns.custompromotions.landingpage.line_1" tagName="p" />
      <FormattedMessage id="guestcampaigns.custompromotions.landingpage.line_2" tagName="p" />
      <FeatureToggle featureId="featureGcaPiCreateCustomPromotion">
        <FormattedMessage id="guestcampaigns.custompromotions.landingpage.line_3_self_serve" tagName="p" />
      </FeatureToggle>
      <FeatureToggle featureId="featureGcaPiCreateCustomPromotion" hide>
        <FormattedMessage id="guestcampaigns.custompromotions.landingpage.line_3" tagName="p" />
      </FeatureToggle>
      <div>
        <FeatureToggle featureId="featureGcaPiCreateCustomPromotion">
          <Button
            onClick={() => {
              clickCallToAction({
                feature: 'Start new campaign',
                name: 'Create campaign',
                page: 'CP landing page',
              })
            }}
            href={LINK_TO_CREATE_CUSTOM_PROMOTION.replace(':rid', rid)}
            theme="primary"
            type="a"
          >
            <FormattedMessage id="guestcampaigns.custompromotions.landingpage.cta_button" tagName="b" />
          </Button>
        </FeatureToggle>
        <FeatureToggle featureId="featureGcaPiCreateCustomPromotion" hide>
          <Button href={LINK_TO_TEST_KITCHEN} target="_blank" theme="primary" type="a">
            <FormattedMessage id="guestcampaigns.custompromotions.landingpage.cta_button" tagName="b" />
          </Button>
        </FeatureToggle>
      </div>
    </div>
  </Panel>
);

export default injectIntl(CustomPromotionsLandingPage);
