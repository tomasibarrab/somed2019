import { Icon } from '@buffet/icon';
import React from 'react';
import { FormattedMessage } from 'react-intl';
import { Photo } from '../common/types';

interface Props {
  photo: Photo;
  setDeletePid: (pid: number) => void;
}

function PhotoStory({ photo, setDeletePid }: Props) {
  return (
    <>
      {photo && (
        <li className="Grid__list-item" key={photo.pid}>
          <img className="Grid__image" src={photo.uri} />
          <button
            className="Grid__delete-photo"
            data-testid="delete-button"
            onClick={() => setDeletePid(photo.pid)}
            type="button"
          >
            <Icon iconId="delete" />
            <div className="Grid__delete-tip">
              <FormattedMessage id="galleryPhotos.grid.deleteTip" />
            </div>
          </button>
        </li>
      )}
    </>
  );
}

export default PhotoStory;
