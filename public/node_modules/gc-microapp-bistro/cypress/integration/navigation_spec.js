// tslint:disable: only-arrow-functions

describe('Open main page of Bistro and navigate to all sections', function() {

  beforeEach(() => {
    cy.fixture(`credentials.json`)
      .then(credentials => {
        cy.login(credentials.username, credentials.password);
      });
  });

  it('Open Group search', () => {
    cy.visit('/admin/bistro');
    cy.get('[data-testid=directory-nav-groups]').click();
    cy.url().should('contain','/admin/bistro/groups')
  });

  it('Open Users search', () => {
    cy.visit('/admin/bistro');
    cy.get('[data-testid=directory-nav-users]').click();
    cy.url().should('contain','/admin/bistro/users')
  });

  it('Open Permission page', () => {
    cy.visit('/admin/bistro');
    cy.get('[data-testid=directory-nav-permissions]').click();
    cy.url().should('contain','/admin/bistro/permissions')
  });

  it('Open Restaurants search', () => {
    cy.visit('/admin/bistro/groups');
    cy.get('[data-testid=directory-nav-restaurants]').click();
    cy.url().should('contain','/admin/bistro/restaurants');
  });

});
