import * as React from 'react';
import { RouteComponentProps, withRouter } from 'react-router-dom';

import { Panel } from '@buffet/panel';

import strings from '../../strings';

import MiniDashboard from './MiniDashboard';
import RestaurantOperational from './RestaurantOperational';

import './RidDiagnosticDashboard.scss';

type Props = RouteComponentProps<any>;

export function RidDiagnosticDashboardImpl({ match }: Props) {
  const [ rid, setRid ] = React.useState();
  React.useEffect(() => setRid(match.params.rid), []);
  return (
    <Panel title={strings['rid.diag.title']}>
      <MiniDashboard id={rid} />
    </Panel>
  );
}

export const RidDiagnosticDashboard = withRouter(RidDiagnosticDashboardImpl);
