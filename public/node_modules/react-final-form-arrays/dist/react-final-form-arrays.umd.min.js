!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@babel/runtime/helpers/objectWithoutPropertiesLoose"),require("@babel/runtime/helpers/extends"),require("@babel/runtime/helpers/assertThisInitialized"),require("@babel/runtime/helpers/inheritsLoose"),require("@babel/runtime/helpers/defineProperty"),require("react"),require("react-lifecycles-compat"),require("final-form"),require("react-final-form")):"function"==typeof define&&define.amd?define(["exports","@babel/runtime/helpers/objectWithoutPropertiesLoose","@babel/runtime/helpers/extends","@babel/runtime/helpers/assertThisInitialized","@babel/runtime/helpers/inheritsLoose","@babel/runtime/helpers/defineProperty","react","react-lifecycles-compat","final-form","react-final-form"],t):t((e=e||self)["react-final-form-arrays"]={},e._objectWithoutPropertiesLoose,e._extends,e._assertThisInitialized,e._inheritsLoose,e._defineProperty,e.React,e.ReactLifecyclesCompat,e.FinalForm,e.ReactFinalForm)}(this,function(e,_,L,i,n,a,A,t,o,r){"use strict";_=_&&_.hasOwnProperty("default")?_.default:_,L=L&&L.hasOwnProperty("default")?L.default:L,i=i&&i.hasOwnProperty("default")?i.default:i,n=n&&n.hasOwnProperty("default")?n.default:n,a=a&&a.hasOwnProperty("default")?a.default:a;var s="2.0.1",O={"final-form":o.version,"react-final-form":r.version,"react-final-form-arrays":s},u=o.fieldSubscriptionItems.reduce(function(e,t){return e[t]=!0,e},{}),l=function(r){function e(e){var s,t;return s=r.call(this,e)||this,a(i(s),"isEqual",function(e,t){return"function"!=typeof s.props.isEqual||s.props.isEqual(e,t)}),a(i(s),"subscribe",function(e,t){var r=e.name,i=e.subscription;s.unsubscribe=s.props.reactFinalForm.registerField(r,t,i?L({},i,{length:!0}):u,{getValidator:function(){return s.validate},isEqual:s.isEqual})}),a(i(s),"validate",function(){var e=s.props.validate;if(e){var t=e(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1]);if(!t||Array.isArray(t))return t;var r=[];return r[o.ARRAY_ERROR]=t,r}}),a(i(s),"bindMutators",function(e){var n=e.name,t=s.props.reactFinalForm;if(t){var a=t.mutators;!!(a&&a.push&&a.pop)&&(s.mutators=Object.keys(a).reduce(function(e,i){return e[i]=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return a[i].apply(a,[n].concat(t))},e},{}))}}),a(i(s),"notify",function(e){setTimeout(function(){s.mounted&&s.setState({state:e})})}),a(i(s),"forEach",function(e){for(var t=s.props.name,r=s.state.state&&s.state.state.length||0,i=0;i<r;i++)e(t+"["+i+"]",i)}),a(i(s),"map",function(e){for(var t=s.props.name,r=s.state.state&&s.state.state.length||0,i=[],n=0;n<r;n++)i.push(e(t+"["+n+"]",n));return i}),e.reactFinalForm&&s.subscribe(e,function(e){t?s.notify(e):t=e}),s.state={state:t},s.bindMutators(e),s.mounted=!1,s}n(e,r);var t=e.prototype;return t.UNSAFE_componentWillReceiveProps=function(e){var t,r,i,n=e.name,a=e.subscription;(this.props.name!==n||(t=this.props.subscription,r=a,i=o.fieldSubscriptionItems,t?!r||i.some(function(e){return t[e]!==r[e]}):r))&&this.props.reactFinalForm&&(this.unsubscribe(),this.subscribe(e,this.notify)),this.props.name!==n&&this.bindMutators(e)},t.componentDidMount=function(){this.mounted=!0},t.componentWillUnmount=function(){this.mounted=!1,this.unsubscribe()},t.render=function(){var e,t,r,i,n,a=this.props,s=a.name,o=_(a,["name"]),u=this.state.state||{},l=u.length,c=u.active,d=u.dirty,p=u.dirtySinceLastSubmit,f=u.error,m=u.initial,h=u.invalid,b=u.pristine,v=u.submitError,y=u.submitFailed,F=u.submitSucceeded,q=u.touched,E=u.valid,P=u.visited,S=_(u,["length","active","dirty","dirtySinceLastSubmit","error","initial","invalid","pristine","submitError","submitFailed","submitSucceeded","touched","valid","visited"]),g={active:c,dirty:d,dirtySinceLastSubmit:p,error:f,initial:m,invalid:h,pristine:b,submitError:v,submitFailed:y,submitSucceeded:F,touched:q,valid:E,visited:P},R=L({},g,S);return e=L({fields:L({name:s,forEach:this.forEach,length:l,map:this.map},this.mutators,R),meta:g},o,{__versions:O}),t=e.render,r=e.children,i=e.component,n=_(e,["render","children","component"]),i?A.createElement(i,L({},n,{children:r})):t?t(L({},n,{children:r})):r(n)},e}(A.Component);a(l,"displayName","ReactFinalFormFieldArray("+o.version+")("+s+")"),t.polyfill(l);var c=r.withReactFinalForm(l);e.FieldArray=c,e.version=s,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=react-final-form-arrays.umd.min.js.map
