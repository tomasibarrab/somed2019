import { addParameters, configure, addDecorator } from '@storybook/react';
import { withA11y } from '@storybook/addon-a11y';
import { addReadme } from 'storybook-readme';
import OTTheme from './ot-theme';

addParameters({
  options: {
    panelPosition: 'right',
    theme: OTTheme,
  }
});

const loadStories = () => {
  const req = require.context('../../src', true, /\.storybook\.(js|ts)$/);
  const docs = require.context('../../docs-stories', true, /\.storybook\.(js|ts)$/);

  docs.keys().forEach((filename) => docs(filename));
  req.keys().forEach((filename) => req(filename));
};

configure(loadStories, module);

addDecorator(addReadme);
addDecorator(withA11y)