import React from 'react';
import { storiesOf } from '@storybook/react';
import { RadioButton, SimpleRadioButtonGroup, RadioButtonGroup } from './src/index';

storiesOf('Reporting/RadioButton', module).add('radiobutton', () => {
  return (
    <div>
      <div style={{ margin: '10px' }}>
        <RadioButton onChange={() => {}} checked={true} label={'I am checked'} value={'value'} />
      </div>
      <div style={{ margin: '10px' }}>
        <RadioButton onChange={() => {}} checked={false} label={'I am not checked'} value={'value'} />
      </div>
    </div>
  );
});

interface Datum {
  value: string;
  label: string;
}

interface Props {
  childProvider: Datum[];
  selectedValue: string;
}

interface WrapperState {
  selectedValue: string;
}
class SimpleRadioButtonGroupWrapper extends React.Component<Props, WrapperState> {
  state: WrapperState = {
    selectedValue: 'fi'
  };

  handleChange = (value: string) => {
    console.log(this.state.selectedValue);
    this.setState({
      selectedValue: value
    });
  };
  render() {
    return (
      <SimpleRadioButtonGroup onChange={this.handleChange} selectedValue={this.state.selectedValue}>
        <RadioButton onChange={() => {}} value="fee" label="Say Fee!" />
        <RadioButton onChange={() => {}} value="fi" label="Say Fi!" />
        <RadioButton onChange={() => {}} value="fo" label="Say Fo!" />
      </SimpleRadioButtonGroup>
    );
  }
}

storiesOf('Reporting/RadioButton', module).add('SimpleRadioButtonGroup', () => {
  return (
    <div style={{ margin: '10px' }}>
      <SimpleRadioButtonGroupWrapper selectedValue="fi" childProvider={[{ value: '', label: '' }]}>
        <RadioButton onChange={() => {}} value="fee" label="Say Fee!" />
        <RadioButton onChange={() => {}} value="fi" label="Say Fi!" />
        <RadioButton onChange={() => {}} value="fo" label="Say Fo!" />
      </SimpleRadioButtonGroupWrapper>
    </div>
  );
});

class RadioButtonGroupWrapper extends React.Component<Props, WrapperState> {
  state: WrapperState = {
    selectedValue: 'fi'
  };

  handleChange = (value: string) => {
    console.log(this.state.selectedValue);
    this.setState({
      selectedValue: value
    });
  };

  render() {
    return (
      <RadioButtonGroup
        childProvider={this.props.childProvider}
        onChange={this.handleChange}
        selectedValue={this.state.selectedValue}
      />
    );
  }
}

storiesOf('Reporting/RadioButton', module).add('RadioButtonWrapper', () => {
  const childProvider = [
    { value: 'fee', label: 'Say Fee!' },
    { value: 'fi', label: 'Say Fi!' },
    { value: 'fo', label: 'Say Fo!' },
    { value: 'fum', label: 'Say Fum!' }
  ];

  return (
    <div style={{ margin: '10px' }}>
      <RadioButtonGroupWrapper selectedValue="fee" childProvider={childProvider} />
    </div>
  );
});
