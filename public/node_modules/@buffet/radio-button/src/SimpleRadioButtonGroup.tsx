import React from 'react';
import styles from './RadioButton.css';
import classNames from 'classnames/bind';

const cx = classNames.bind(styles);

interface Props {
  children: any;
  onChange: (value: string) => void;
  /** Expected to match the value of one of the enclosed radio buttons */
  selectedValue: string;
  className?: string;
}

export class SimpleRadioButtonGroup extends React.Component<Props> {
  render() {
    const { children, onChange, selectedValue, className } = this.props;

    const buttons = React.Children.map(children, (radioButton, index) =>
      React.cloneElement(radioButton as React.ReactElement<any>, {
        onChange,
        checked: selectedValue === children[index].props.value,
        key: `rbg_${children[index].props.value}`
      })
    );
    return <div className={cx(className)}>{buttons}</div>;
  }
}
