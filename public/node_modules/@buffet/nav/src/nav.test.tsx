import React from 'react';
import { Icon } from '@buffet/icon';
import { render, wait } from 'react-testing-library';
import { Nav } from './nav';
import { NavIcon } from './navIcon';
import { NavLabel } from './navLabel';

async function renderScenario(collapsed: boolean) {
  const result = render(
    <Nav collapsed={collapsed}>
      {renderProps => (
        <>
          <a className={renderProps.activeClassName} href="#">
            <NavIcon>
              <Icon iconId="appReporting" />
            </NavIcon>
            <NavLabel>Menu Item 1</NavLabel>
          </a>
        </>
      )}
    </Nav>
  );
  await wait();
  return result;
}

describe('Nav', async () => {
  it('Should show nav', async () => {
    const { container } = await renderScenario(false);
    expect(container.firstChild).toMatchSnapshot();
  });
});
