import React from 'react';
import { storiesOf } from '@storybook/react';
import { Layout } from '@buffet/layout';
import { Icon } from '@buffet/icon';
import { Nav } from './src/nav';
import { NavIcon } from './src/navIcon';
import { NavLabel } from './src/navLabel';

interface State {
  collapsed: boolean;
}

class NavStory extends React.Component<any, State> {
  state = {
    collapsed: false
  };

  onClick = (e: any) => {
    e.preventDefault();
    this.setState({ collapsed: !this.state.collapsed });
  };

  render() {
    return (
      <Layout title={'Navbar'}>
        <Nav collapsed={this.state.collapsed}>
          {renderProps => (
            <>
              <a className={renderProps.activeClassName} href="#" onClick={this.onClick}>
                <NavIcon>
                  <Icon iconId="appReporting" />
                </NavIcon>
                <NavLabel>Menu Item 1</NavLabel>
              </a>
              <a href="#" onClick={this.onClick}>
                <NavIcon>
                  <Icon iconId="appHelp" />
                </NavIcon>
                <NavLabel>Menu Item 2</NavLabel>
              </a>
            </>
          )}
        </Nav>
        <p style={{ margin: '1rem', color: 'white' }}>
          My MicroApp content.
          <br />
          Click on the menu icon to expand.
        </p>
      </Layout>
    );
  }
}

storiesOf('Nav', module).add('show nav', () => <NavStory />);
