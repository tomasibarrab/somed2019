import React from 'react';
import { storiesOf } from '@storybook/react';
import { DropDown } from './src/index';
import { Icon } from '@buffet/icon';

interface WrapperProps {
  iconId?: string;
}

interface WrapperState {
  isOpen: boolean;
}

class DropdownWrapper extends React.Component<WrapperProps, WrapperState> {
  state: WrapperState = {
    isOpen: false
  };

  onClick = () => {
    this.setState({
      isOpen: !this.state.isOpen
    });
  };

  render() {
    const icon = this.props.iconId ? <Icon iconId={this.props.iconId} /> : null;
    return (
      <DropDown
        open={this.state.isOpen}
        label={
          <div style={{ display: 'flex' }}>
            {icon}
            <span style={{ padding: '4px' }}>Filter Name</span>
          </div>
        }
        onLabelClick={this.onClick}
      >
        <div style={{ display: 'block' }}>
          <div>
            <button style={{ width: '100%', outline: 'none', border: 'none' }}>Label 1</button>
          </div>
          <div>
            <button style={{ width: '100%', outline: 'none', border: 'none' }}>Label 2</button>
          </div>
          <div>
            <button style={{ width: '100%', outline: 'none', border: 'none' }}>Label 3</button>
          </div>
        </div>
      </DropDown>
    );
  }
}
storiesOf('Reporting/Dropdown', module).add('dropdown', () => {
  return (
    <div style={{ width: '400px', margin: '10px' }}>
      <DropdownWrapper />
    </div>
  );
});

storiesOf('Reporting/Dropdown', module).add('dropdown with Icon', () => {
  return (
    <div style={{ width: '400px', margin: '10px' }}>
      <DropdownWrapper iconId="hamburger" />
    </div>
  );
});
