import classnames from 'classnames/bind';
import React from 'react';

import { ModalType } from '../types';

import styles from './Window.css';


const cx = classnames.bind(styles);

interface WindowProps {
  isClosing: boolean;
  type?: ModalType;
  fullscreenAutoHeight?: boolean;
  children: any;
}

const ModalWindow = React.forwardRef((
  {
    isClosing,
    type = ModalType.default,
    fullscreenAutoHeight = false,
    children
  }: WindowProps,
  ref: React.Ref<HTMLDivElement>
) => {
  const extraCommonStyles = [
    type,
    type === ModalType.fullscreen && fullscreenAutoHeight && 'fullscreenAutoHeight',
  ];

  // TODO: add ARIA attributes for Dialog
  return (
    <div className={cx('wrapper', ...extraCommonStyles)}>
      <section ref={ref} className={cx('window', isClosing && 'out', ...extraCommonStyles)}>
        {children}
      </section>
    </div>
  );
});

export default ModalWindow;
