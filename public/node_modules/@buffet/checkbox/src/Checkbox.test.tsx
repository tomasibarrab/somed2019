import React from 'react';
import { render, fireEvent } from 'react-testing-library';
import { LabeledCheckbox } from './LabeledCheckbox';

test('Should render a checked Checkbox', async () => {
  const onClick = jest.fn();
  const result = render(
    <LabeledCheckbox id="checky" checked={true} label="Simple option" onClick={onClick} checkboxTestId="checky" />
  );
  expect(result.container.firstChild).toMatchSnapshot();
  fireEvent.click(result.getByLabelText('Simple option'));
  expect(onClick).toHaveBeenCalled();
});

test('Should render an unchecked Checkbox', async () => {
  const result = render(
    <LabeledCheckbox id="checky" checked={false} label="Simple option" onClick={() => {}} checkboxTestId="checky" />
  );
  expect(result.container.firstChild).toMatchSnapshot();
});

test('Should render an indeterminate Checkbox', async () => {
  const result = render(
    <LabeledCheckbox
      id="checky"
      indeterminate={true}
      checked={false}
      label="Simple option"
      onClick={() => {}}
      checkboxTestId="checky"
    />
  );
  expect(result.container.firstChild).toMatchSnapshot();
});
