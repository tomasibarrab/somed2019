import React from 'react';
import classNames from 'classnames/bind';
import { Icon } from '@buffet/icon';
import styles from './Paginator.css';

const cx = classNames.bind(styles);
import ReactPaginate from 'react-paginate';

interface Props {
  page: number;
  totalPages: number;
  selectPage(payload: any): void;
}

export const Paginator: React.SFC<Props> = props => {
  const { page, selectPage, totalPages } = props;

  if (totalPages <= 1) {
    return null;
  }

  return (
    <ReactPaginate
      forcePage={page}
      pageCount={totalPages}
      pageRangeDisplayed={3}
      marginPagesDisplayed={1}
      initialPage={0}
      containerClassName={cx('paginatorContainer')}
      pageClassName={cx('paginatorLink')}
      activeClassName={cx('paginatorCurrentPage')}
      previousClassName={cx('paginatorPrevious')}
      previousLabel={<Icon iconId="chevronLeft" data-testid="qaPaginationPrev" />}
      nextClassName={cx('paginatorNext')}
      nextLabel={<Icon iconId="chevronRight" data-testid="qaPaginationNext" />}
      breakClassName={cx('paginatorEllipsis')}
      disabledClassName={cx('paginatorDisabled')}
      onPageChange={selectPage}
      disableInitialCallback
    />
  );
};
