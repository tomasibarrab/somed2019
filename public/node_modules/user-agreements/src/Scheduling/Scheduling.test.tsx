import { shallow } from 'enzyme';
import { shallowWithIntl } from 'gca-jest-config';
import React from 'react';

import { PureScheduling as Scheduling} from './Scheduling';
const props = {
  agreementId: '988721a1-8a23-4dab-8753-82edd215faca',
  customerInfo: {
    email: 'jsnow@opentable.com',
    firstName: 'Jon',
    lastName: 'Snow',
  },
  salesforce: {
    opportunityId: '8000c000001kJVO',
    quoteId: '8000c000001kJVO',
  },
  schedulingLink: 'https://calendly/link',
};

describe('<Scheduling />', () => {

  beforeAll(() => (window as any).gcaConfig = { schedulingUrl: 'https://calendly/link'});

  it('default snapshot', () => {
    const wrapper = shallowWithIntl(<Scheduling { ...props } />);
    expect(wrapper).toMatchSnapshot();
  });

  afterAll(() => (window as any).gcaConfig = undefined);
});
