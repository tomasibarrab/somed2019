import { shallow } from 'enzyme';
import React from 'react';

import { Checkbox } from './Checkbox';

const props = {
  onClick: jest.fn(),
  checked: false,
  indeterminate: false,
  label: 'foo',
  disabled: false
};

describe('<Checkbox />', () => {
  it('should invoke the callback with value when clicked', () => {
    const wrapper = shallow(<Checkbox {...props} />);

    wrapper.find('input').simulate('click');

    expect(props.onClick).toHaveBeenCalledWith(true);
  });

  it('unchecked snapshot', () => {
    expect(shallow(<Checkbox {...props} />)).toMatchSnapshot();
  });

  it('checked snapshot', () => {
    expect(shallow(<Checkbox {...props} checked />)).toMatchSnapshot();
  });

  it('indeterminate snapshot', () => {
    expect(shallow(<Checkbox {...props} indeterminate />)).toMatchSnapshot();
  });

  it('disabled snapshot', () => {
    expect(shallow(<Checkbox {...props} disabled />)).toMatchSnapshot();
  });

  it('node label snapshot', () => {
    expect(
      shallow(
        <Checkbox
          {...props}
          label={
            <span>
              A <b>label</b>
            </span>
          }
        />,
      ),
    ).toMatchSnapshot();
  });
});
