import React from 'react';
import PropTypes from 'prop-types';
import classnames from 'classnames';
import './Fieldset.scss';

/**
 * Renders a two-column `<fieldset>`. Combine with `<LabelGroup>` for consistent styling of standard GCA forms.
 */
export function Fieldset(props) {
  const { children, className, description, legend, sidebarContent, ...rest } = props;
  const classNames = classnames('gca-fieldset', className);

  return (
    <fieldset className={classNames} {...rest}>
      <legend className="screenreader-only">{legend}</legend>
      <div className="wrapper" {...rest}>
        <div className="meta">
          <div aria-hidden="true" role="presentation" className="legend">
            {legend}
          </div>
          <div className="description">{description}</div>
        </div>
        <div className="content" disabled={rest.disabled}>{children}</div>
        <div className="sidebar">{sidebarContent}</div>
      </div>
    </fieldset>
  );
}

Fieldset.defaultProps = {
  disabled: false,
};

Fieldset.propTypes = {
  /** Pass form contents as children. */
  children: PropTypes.node,
  /** Class(es) will be assigned to the root element as a hook for style overrides. */
  className: PropTypes.string,
  /** Title for this set of fields. */
  legend: PropTypes.string,
  /** Content below the legend section. Has some basic font styles applied but is otherwise freeform. */
  description: PropTypes.node,
  /** Content for the right column (on-desktop). Freeform. */
  sidebarContent: PropTypes.node,
  /** Is it disabled? */
  disabled: PropTypes.bool,
};

export default Fieldset;
