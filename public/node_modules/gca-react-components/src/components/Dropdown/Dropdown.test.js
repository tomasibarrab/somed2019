import { shallow } from 'enzyme';
import React from 'react';

import { Dropdown } from './Dropdown';

describe('<Dropdown />', () => {
  it('should invoke the callback when clicked', () => {
    const clickHandlerSpy = jest.fn();
    const wrapper = shallow(<Dropdown onLabelClick={clickHandlerSpy} />);

    wrapper.find('.gca-dropdown-label').simulate('click');

    expect(clickHandlerSpy).toHaveBeenCalled();
  });

  it('open snapshot', () => {
    const wrapper = shallow(<Dropdown />);

    expect(wrapper).toMatchSnapshot();
  });

  it('checked snapshot', () => {
    const wrapper = shallow(<Dropdown open />);

    expect(wrapper).toMatchSnapshot();
  });

  it('with children snapshot', () => {
    const wrapper = shallow(
      <Dropdown open>
        <h1>Child!</h1>
      </Dropdown>,
    );

    expect(wrapper).toMatchSnapshot();
  });
});
