import { mount, shallow } from 'enzyme';
import React from 'react';
import { Modal } from './Modal';

describe('<Modal />', () => {
  let props;

  beforeEach(() => {
    props = {
      children: <div>foo</div>,
      modalClass: 'my-modal-class',
      overlayClass: 'my-overlay-class',
      onClose: jest.fn(),
    };
  });

  it('should render the same as the snapshot', () => {
    const wrapper = shallow(<Modal {...props} />);
    expect(wrapper).toMatchSnapshot();
  });

  it('should fire onClose() when overlay is clicked', () => {
    mount(<Modal {...props} />).simulate('click');
    expect(props.onClose).toHaveBeenCalled();
  });
});
