import * as React from 'react';
import * as moment from 'moment';

import { customFinalField } from './customfield';

import Select, { Props as SelectProps } from '../components/Select/Select';

/**
 * SelectField react-final-form field for gca-react-components Select
 */
export const SelectFinalField = customFinalField<SelectProps>(
  ( { disabled, valid, options, className, type, tabIndex }, { input } ) => {
    //
    // :TODO: prefer to spread `input` properties onto the `<Select/>`, but there are concerns with
    // possible errors that can show up when this module is yarn linked in (which due to other
    // reasons is not currently achievable, havning to do with duplicate RXJS singletons in that
    // scenario). This should be re-evaluated when yarn linking is fixed for gca-react-components
    //
    return (
      <Select
        className={className}
        disabled={disabled}
        tabIndex={tabIndex}
        type={type}
        value={input.value}
        onChange={input.onChange}
        options={options}
        valid={valid}
        onBlur={input.onBlur}
        onFocus={input.onFocus}
      />
    );
  }
);

/** @component */
export default SelectFinalField;
