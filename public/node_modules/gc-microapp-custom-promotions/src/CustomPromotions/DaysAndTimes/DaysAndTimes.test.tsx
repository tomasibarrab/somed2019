import testShowingFieldsOrSummary from '../../../internals/testing/helpers/testShowSummary';
import DaysAndTimes from './DaysAndTimes';

jest.mock('./DayAndTimes', () => () => 'DayAndTimes');
jest.mock('./DaysAndTimesSummary', () => () => 'DaysAndTimesSummary');

const stateForImageVariant = featureOn => ({
  featureToggles: {
    features: {
      featureGcaPiCreateCustomPromotionImageDatePicker: featureOn,
    },
  },
});

describe('<DaysAndTimes />', () => {
  const scenarios = [
    {
      description: 'Shows summary when !isOpen',
      isOpen: false,
      state: {},
    },
    {
      description: 'Shows fields for list variant when isOpen',
      isOpen: true,
      state: stateForImageVariant(false),
    },
    {
      description: 'Shows fields for image variant when isOpen',
      isOpen: true,
      state: stateForImageVariant(true),
    },
  ];

  scenarios.forEach(scenario =>
    test(scenario.description, () => {
      testShowingFieldsOrSummary(DaysAndTimes, !scenario.isOpen, {}, scenario.state);
    }),
  );
});
