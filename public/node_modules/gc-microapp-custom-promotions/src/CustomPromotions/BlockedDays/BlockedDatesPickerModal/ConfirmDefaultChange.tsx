import { Button } from 'gca-react-components';
import React, { SFC } from 'react';
import { FormattedMessage, InjectedIntlProps, injectIntl } from 'react-intl';
import { defaultSuppressionDates } from '../../constants';
import './ConfirmDefaultChange.scss';

interface ConfirmProps {
  day: string;
  handleConfirm: (day?: string, isCustom?: boolean) => void;
  id: string;
  intlDate: string;
  isBlocked: boolean;
}

const ConfirmDefaultChange: SFC<ConfirmProps & InjectedIntlProps> = ({
  day,
  id,
  intlDate,
  isBlocked,
  handleConfirm,
}) => {
  const label = defaultSuppressionDates[id].label;
  return (
    <aside className={isBlocked ? 'confirm' : 'confirm custom-or-default'}>
      {isBlocked && [
        <FormattedMessage
          key="header"
          id="guestcampaigns.list.blockdays.confirm.removeheader"
          values={{ label }}
          tagName="h3"
        />,
        <Button key="removedefault" onClick={() => handleConfirm(day)}>
          <FormattedMessage
            id="guestcampaigns.list.blockdays.confirm.button.removedefault"
            values={{ label }}
            tagName="span"
          />
        </Button>,
      ]}
      {!isBlocked && [
        <FormattedMessage
          key="header"
          id="guestcampaigns.list.blockdays.confirm.addheader"
          values={{ label, intlDate }}
          tagName="h3"
        />,
        <Button key="adddefault" onClick={() => handleConfirm(day)}>
          <FormattedMessage id="guestcampaigns.list.blockdays.confirm.button.adddefault" tagName="span" />
        </Button>,
        <Button key="addcustom" onClick={() => handleConfirm(day, true)}>
          <FormattedMessage
            id="guestcampaigns.list.blockdays.confirm.button.addcustom"
            values={{ label }}
            tagName="span"
          />
        </Button>,
      ]}
      <Button onClick={() => handleConfirm()}>
        <FormattedMessage id="guestcampaigns.list.blockdays.confirm.button.cancel" tagName="span" />
      </Button>
    </aside>
  );
};

export default injectIntl(ConfirmDefaultChange);
