import classnames from 'classnames';
import React, { ReactNode, SFC } from 'react';
import './Fieldset.scss';

/* Stolen from gca-react-components, modified to remove right sidebar, allow show/hide description */

interface Props {
  legend: string;
  description?: ReactNode;
  isOpen?: boolean;
  className?: string;
}

const Fieldset: SFC<Props> = props => {
  const { children, className, description, legend, isOpen, ...rest } = props;
  const classNames = classnames('pi-fieldset', className);

  return (
    <fieldset className={classNames} {...rest}>
      <legend className="screenreader-only">{legend}</legend>
      <div className={classnames('wrapper', { isOpen })}>
        <div className="meta">
          <div aria-hidden="true" role="presentation" className="legend">
            {legend}
          </div>
          {isOpen && description && <div className="description">{description}</div>}
        </div>
        <div className="content">{children}</div>
      </div>
    </fieldset>
  );
};

export default Fieldset;
