import moment from 'moment';
import { ajaxGetJSON, ajaxPost } from 'rxjs/observable/dom/AjaxObservable';
import './commonRxjs';

export function getCredits(rid: number) {
  const month = moment().format('YYYY-MM');
  return ajaxGetJSON(`/admin/api/restaurant/${rid}/credits?month=${month}`);
}

export function createCampaign(rid: number, body: any) {
  return ajaxPost(`/admin/api/restaurant/${rid}/campaigns`, body, {
    'Content-Type': 'application/json',
  });
}
