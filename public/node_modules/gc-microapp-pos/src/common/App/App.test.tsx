import { shallow } from 'enzyme';
import React from 'react';

import NotificationCenter from 'shared-react-smart-ui/NotificationCenter';
import { Props, PureApp as App } from './App';

describe('<App />', () => {
  const setup = (override = {}) => {
    const props: Props = {
      error: false,
      initializeGcScope: jest.fn(),
      intl: { formatMessage: jest.fn(() => 'translated text') } as any,
      loading: false,
    };

    const app = shallow(<App {...props} />);

    return { app, props };
  };

  it('should exists', () => {
    const { app } = setup();
    expect(app).toBeDefined();
  });

  it('should have the notification center', () => {
    const { app } = setup();

    expect(app.find(NotificationCenter).length).toBe(1);
  });
});
