@import '~gca-react-components/src/styles/variables.scss';
@import '~otkit-typography-desktop/token';
@import '~otkit-spacing/token';

@mixin disabled {
  opacity: 0.25;
  pointer-events: none;
  user-select: none;

  input {
    pointer-events: none;
    user-select: none;
  }
}

.gca-header-content {
  margin-right: 18px;
}

div.gca-header-actions {
  button {
    font-size: 15px;
  }

  #ua-cancel-userediting {
    padding: 0;
    min-width: 0;
  }
}

section.app-content {
  form {
    margin: 0;
  }
}

.gca-panel-body {
  p {
    font-size: 16px;
  }

  .gca-form-error {
    margin: 16px 0;
  }

  .alert-message-container {
    &.close {
      .gca-alert-message {
        opacity: 0;
        max-height: 0;
        margin: 0;
      }
    }

    .gca-alert-message {
      transition: opacity 0.5s ease-in-out, margin 0.5s ease-in-out, max-height 0.5s ease-in-out;
      max-height: 300px;
      overflow: hidden;
      margin: 0 0 16px;
      font-size: 16px !important;

      h4 {
        font-size: 16px !important;
        font-weight: bold;
      }

      ul {
        margin: 0;
        padding: 0;

        li {
          list-style-type: none;
        }
      }
    }
  }
}

.user-form-panel {
  border-bottom: solid 1px $background-gray;
  margin-bottom: $spacing-large;
  transition: opacity 0.5s 0.5s ease-in-out;

  &.-no-border,
  &:last-child {
    border: none;
  }

  &.disabled {
    @include disabled;
  }

  h2 {
    font-size: $medium-bold-font-size;
    font-weight: $medium-bold-font-weight;
    line-height: $medium-bold-line-height;
    height: $medium-bold-line-height;
    margin: 0 0 $spacing-medium;
  }

  p.error {
    color: $error-red;
    font-size: 16px;
    margin-bottom: 16px;
  }

  .react-select-container {
    width: 100%;

    .react-select__control {
      height: $spacing-xlarge; // same height as labeled input
    }

    .react-select__menu {
      z-index: 10; // some buffet components have a z-index, and the dropdown doesn't, so they overlap weirdly
    }
  }

  .validation-error {
    height: 0;
    overflow: visible;
    margin: 0;
    position: relative;
    top: 2px;
    font-size: 12px;
  }

  .user-access-roles {
    &:not(:last-child) {
      border-bottom: solid 1px $background-gray;
      padding-bottom: $spacing-medium;
      margin-bottom: $spacing-large;
    }

    .access-header {
      display: flex;
      flex-flow: row wrap;
      align-items: flex-start;
      font-weight: bold;
      line-height: $large-medium-line-height;
      margin-bottom: $spacing-small;

      .type {
        min-width: 200px;
      }

      .feature {
        flex: 1 0 0;
        font-weight: bold;
      }
    }

    ul {
      list-style-type: none;
      padding: 0;
      margin: 0;
    }

    li {
      display: flex;
      flex-flow: row wrap;
      transition: opacity 0.5s ease-in-out;
      align-items: flex-start;
      margin-bottom: $spacing-large;

      &.compact {
        margin-bottom: $spacing-medium;
      }

      &.disabled {
        @include disabled;
      }

      .final-field {
        min-width: 200px;
      }

      .role-features {
        flex: 1 0 0;

        p {
          display: flex;
          line-height: 1.3;

          & + p {
            margin-top: $spacing-small;
          }

          strong {
            font-weight: bold;
            min-width: 6rem;
            margin-right: 0.5rem;
          }

          span {
            flex: 1 0 0;
          }
        }
      }
    }
  }

  .form-row-2fa,
  .form-row-gdpr {
    align-items: center;
    margin-bottom: $spacing-large;
  }

  #enable2fa-info {
    margin-left: $spacing-small;
  }

  .form-row {
    display: flex;
    flex-flow: row wrap;
    align-items: center;
    transition: opacity 0.5s 0.5s ease-in-out;

    &.disabled {
      @include disabled;
    }

    .message-group {
      flex: 1 0 0;
      margin-bottom: 32px;
      margin-left: -24px;
      height: 34px;
      line-height: 22px;
      padding: 6px 0;
      display: flex;
      align-items: center;

      span.icon {
        width: 36px;
        min-width: 36px;
        flex: 0;
        text-align: center;

        i.gca-busy-icon {
          width: 22px;
          height: 22px;
        }
      }

      span,
      a {
        flex: 1 0 0;
        margin-right: 0.2em;
      }
    }

    .gca-label-group {
      width: 330px;
      margin-right: 2rem;
    }
  }
}
