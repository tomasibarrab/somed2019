import { shallowWithIntl } from 'gca-jest-config';
import React from 'react';

import { Permission, Role } from '../store/types';
import { EditRole } from './EditRole';

describe('<EditRole />', () => {

  it('should render the basic as the snapshot', () => {
    const wrapper = shallowWithIntl(<EditRole />);
    expect(wrapper).toMatchSnapshot();
  });

  it('should render a test Role in view mode', () => {
    const role: Role = {
      permissions: ['perm1', 'perm2'],
      status: 'view',
      urn: 'role1',
    };
    const permissions: Permission[] = ['perm1', 'perm2', 'perm3'];
    const wrapper = shallowWithIntl(
      <EditRole
        info={role}
        permissions={permissions}
      />,
    );
    expect(wrapper).toMatchSnapshot();
  });

  it('should render a test Role in edit mode', () => {
    const role: Role = {
      permissions: ['perm1', 'perm2'],
      status: 'editing',
      urn: 'role1',
    };
    const permissions: Permission[] = ['perm1', 'perm2', 'perm3'];
    const wrapper = shallowWithIntl(
      <EditRole
        info={role}
        permissions={permissions}
      />,
    );
    expect(wrapper).toMatchSnapshot();
  });

});
