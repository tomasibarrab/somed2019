module.exports = (vinyl, Promise) ->

  class Writer

    constructor: (@locale, @result, @config) ->

    fileName: ->
      throw new Error("needs implementation")

    basePath: ->
      throw new Error("needs implementation")

    run: ->
      Promise.resolve(@output()).then (contents) =>
        return new vinyl({
          path: "#{@basePath()}/#{@fileName()}"
          contents: new Buffer(contents)
        })

    output: ->
      throw new Error("needs implementation")
