spur = require "spur-ioc"
spurCommon = require "spur-common"
harnessSmartling = require "harness-smartling-client"

module.exports = ->
  ioc = spur.create("translationsRuntime")

  ioc.registerDependencies {
    "querystring": require "querystring"
    "vinyl": require "vinyl"
    "vinylSourceStream": require "vinyl-source-stream"
    "Readable": require("stream").Readable
    "xmlParser": require("js2xmlparser")
    "mkdirp": require "mkdirp"
  }

  ioc.registerFolders __dirname, [
    "client"
    "processors"
    "writers"
    "plugins"
    "custom"
  ]

  ioc.merge(spurCommon())
  ioc.merge(harnessSmartling())
  ioc.expose(["TranslationsClient"])

  ioc
