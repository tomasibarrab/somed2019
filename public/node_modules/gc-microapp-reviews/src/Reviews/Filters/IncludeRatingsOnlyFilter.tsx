import { Checkbox } from 'gca-react-components';
import React from 'react';
import { InjectedIntlProps, injectIntl } from 'react-intl';
import { connect } from 'react-redux';

import { includeRatingsOnly } from '../../store/reviewFilters/reviewFilters';

interface SP {
  current: boolean;
}

interface DP {
  set(payload: any, applyOnSet?: boolean): void;
}

interface BaseProps extends SP, DP {}
interface Props extends BaseProps, InjectedIntlProps {}

class IncludeRatingsOnlyFilter extends React.Component<Props> {
  public render() {
    return (
      <div className="include-ratings-only-filter">
        <Checkbox
          checked={!this.props.current}
          onClick={this.onClick}
          label={this.props.intl.formatMessage({ id: 'reviews.filters.hideRatingsOnly' })}
        />
      </div>
    );
  }

  private onClick = () => this.props.set(!this.props.current, true);
}

export default connect<SP, DP, {}>(includeRatingsOnly.selector, includeRatingsOnly.actions)(
  injectIntl<BaseProps>(IncludeRatingsOnlyFilter),
);
export { IncludeRatingsOnlyFilter as PureIncludeRatingsOnlyFilter };
