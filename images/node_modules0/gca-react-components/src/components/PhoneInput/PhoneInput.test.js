import { mount } from 'enzyme';
import React from 'react';

import { PhoneInput } from './PhoneInput';

const props = {
  onChange: jest.fn(),
  countryCode: 'US',
  valid: true,
  value: '',
};

describe('<PhoneInput />', () => {
  it('should match snapshot', () => {
    expect(mount(<PhoneInput {...props} />)).toMatchSnapshot();
  });

  it('onChange handler', () => {
    const wrapper = mount(<PhoneInput {...props} />);
    const value = '4155551234';
    wrapper.find('input').simulate('change', { target: { value } });

    expect(props.onChange).toBeCalledWith(value);
  });
});
