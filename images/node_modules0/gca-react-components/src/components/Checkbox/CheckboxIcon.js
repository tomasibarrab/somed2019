import React from 'react';
import PropTypes from 'prop-types';
import classnames from 'classnames';

import './Checkbox.scss';

export default function CheckboxIcon(props) {
  const checkboxClasses = classnames({
    'checkbox-icon': true,
    checked: props.checked || props.indeterminate,
    disabled: props.disabled,
  });

  let icon = null;

  if (props.indeterminate) {
    icon = <polyline fill="none" stroke="currentColor" points="1,4.5 8,4.5" />;
  } else if (props.checked) {
    icon = <polyline fill="none" stroke="currentColor" points="1,5 4,8 9,1" />;
  }

  return (
    <span className={checkboxClasses}>
      {(props.checked || props.indeterminate) && (
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 9" data-qa="check">
          {icon}
        </svg>
      )}
    </span>
  );
}

CheckboxIcon.defaultProps = {
  disabled: false,
};

CheckboxIcon.propTypes = {
  checked: PropTypes.bool,
  disabled: PropTypes.bool,
  indeterminate: PropTypes.bool,
};
