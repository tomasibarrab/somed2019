import React from 'react';
import Toggle from 'react-toggled';
import classnames from 'classnames';
import PropTypes from 'prop-types';

export class SwitchListItem extends React.Component {
  handleChange = on => {
    this.props.onChange(this.props.value, on);
  };

  render() {
    const { disabled, label, on } = this.props;
    return (
      <Toggle on={on} onToggle={this.handleChange} disabled >
        {({ on: toggledOn, getTogglerProps }) => (
          <button
            type="button"
            className={classnames('switchlist-item', { on: toggledOn, disabled })}
            {...getTogglerProps()}
          >
            {label}
          </button>
        )}
      </Toggle>
    );
  }
}

SwitchListItem.defaultProps = {
  disabled: false,
};

SwitchListItem.propTypes = {
  disabled: PropTypes.bool,
  value: PropTypes.string.isRequired,
  on: PropTypes.bool.isRequired,
  label: PropTypes.string.isRequired,
  onChange: PropTypes.func.isRequired,
};

export default SwitchListItem;
