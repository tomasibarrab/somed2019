import React, { SFC } from 'react';
import { connect } from 'react-redux';
import { FlexiblePricingPageType } from '../../store/flexiblepricing/flexiblepricing.types';
import { getPageType } from '../../store/flexiblepricing/selectors';
import { State } from '../../store/types';
import Success from './Success/Success';
import Summary from './Summary/Summary';
import VisibilitySettings from './VisibilitySettings/VisibilitySettings';

interface SP {
  pageType: FlexiblePricingPageType;
}

const pageTypeToComponentMap = {
  [FlexiblePricingPageType.VisibilitySettings]: <VisibilitySettings />,
  [FlexiblePricingPageType.Summary]: <Summary />,
  [FlexiblePricingPageType.SuccessSignup]: <Success />,
  [FlexiblePricingPageType.SuccessRevert]: <Success />,
  [FlexiblePricingPageType.SuccessEdit]: <Success />,
};

const FlexiblePricingMain: SFC<SP> = ({ pageType }) => {
  return pageTypeToComponentMap[pageType];
};

const mapStateToProps = (state: State) => {
  return {
    pageType: getPageType(state),
  };
};

export default connect<SP, {}, {}>(mapStateToProps)(FlexiblePricingMain);
