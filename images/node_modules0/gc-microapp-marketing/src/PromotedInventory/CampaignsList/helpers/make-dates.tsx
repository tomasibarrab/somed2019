import React from 'react';
import { InjectedIntl } from 'react-intl';
import makeLabel from './make-label';
import renderDateRange from './render-date-range';

const makeDates = (intl: InjectedIntl, suppressionDates: any, defaultSuppressionDates: any) => {
  const dates = suppressionDates
    ? [
        ...suppressionDates.default.map((key: any) => {
          const dateInfo = defaultSuppressionDates.filter((item: any) => item.id === key)[0];
          return [dateInfo.label, renderDateRange(dateInfo.startDate, dateInfo.endDate)];
        }),
        ...suppressionDates.custom.map((item: any, key: any) => (
          <ul key={key}>
            <li>{makeLabel(intl, item)}</li>
          </ul>
        )),
      ]
    : [];
  return dates;
};

export default makeDates;
