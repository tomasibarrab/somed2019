import { mount } from 'enzyme';
import React from 'react';
import { IntlProvider } from 'react-intl';
import { Provider } from 'react-redux';
import configureMockStore from 'redux-mock-store';

import { keys } from '../../translations/bundles/marketing.json';
import InsightsFilter from './InsightsFilter';

const daysOfWeek = {
  FRIDAY: true,
  MONDAY: true,
  SATURDAY: true,
  SUNDAY: true,
  THURSDAY: true,
  TUESDAY: true,
  WEDNESDAY: true,
};

describe('<InsightsFilter />', () => {
  it('should render Insights Filters when initialized', () => {
    const store = configureMockStore([])({
      insights: {
        coverTrends: {
          error: false,
          loading: false,
        },
        filters: {
          compareTo: 'previous-period',
          dateRange: {
            endDate: '2019-06-13',
            startDate: '2019-05-16',
          },
          daysOfWeek,
        },
      },
    });

    const wrapper = mount(
      <Provider store={store}>
        <IntlProvider locale="en" messages={keys}>
          <InsightsFilter />
        </IntlProvider>
      </Provider>,
    );

    expect(wrapper.debug()).toMatchSnapshot();
  });
});
