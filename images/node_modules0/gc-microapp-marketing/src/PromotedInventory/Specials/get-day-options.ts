/* Stolen from gca-react-components/src/components/ProfileHours/utils.js
  since we did not want to grab a deeply exported function that might change
  out from under us.
*/

// known days in epoch ms at 00:00:00 UTC
const MON = 1483315200000;
const TUE = 1483401600000;
const WED = 1483488000000;
const THU = 1483574400000;
const FRI = 1483660800000;
const SAT = 1483747200000;
const SUN = 1483228800000;

const rawDayOptions = [
  { value: SUN, id: 'SUNDAY' },
  { value: MON, id: 'MONDAY' },
  { value: TUE, id: 'TUESDAY' },
  { value: WED, id: 'WEDNESDAY' },
  { value: THU, id: 'THURSDAY' },
  { value: FRI, id: 'FRIDAY' },
  { value: SAT, id: 'SATURDAY' },
];

const formatDay = (locale: string = 'en-us', ms: number) =>
  new Intl.DateTimeFormat(locale, { weekday: 'short', timeZone: 'UTC' }).format(ms);

const getDayOptions = (locale?: string) =>
  rawDayOptions.map(({ id, value }) => ({ id, label: formatDay(locale, value) }));

export default getDayOptions;
