import React from 'react';
import { FormattedMessage, InjectedIntlProps, injectIntl } from 'react-intl';

import Modal, { ModalType } from '@buffet/modal';

interface OwnProps {
  isShown: boolean
}

type Props = OwnProps & InjectedIntlProps;

export function ConnectionLostModal({
  intl,
  isShown,
}: Props) {

  const reloadPage = () => {
    window.location.reload();
  }

  return (
    <Modal
      preventClose
      open={isShown}
      type={ModalType.prompt}
      onCloseRequest={() => { return; }}
      onAcknowledge={reloadPage}
      acknowledgeLabel={intl.formatMessage({ id: 'ConflictErrorReloadButton' })}
      title={intl.formatMessage({ id: 'ConnectionErrorHeader' })}
    >
      <FormattedMessage id="ConnectionErrorMessage" />
    </Modal>
  );
}
export default injectIntl(ConnectionLostModal);
