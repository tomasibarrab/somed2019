@value ash-darker, ash-dark, ash-lighter, teal, white from 'otkit-colors/token.cssmodules.css';

@value border-radius-small from 'otkit-borders/token.cssmodules.css';

@value spacing-xsmall from 'otkit-spacing/token.cssmodules.css';

/* TODO: import this from OTKIT when made available for postcss */
@value iconSize: 24px;

@value checkboxSize: 18px;

.visuallyHidden {
  position: absolute;
  height: 1px;
  width: 1px;
  overflow: hidden;
  clip: rect(1px 1px 1px 1px); /* IE6, IE7 */
  clip: rect(1px, 1px, 1px, 1px);
}

.label {
  display: inline-flex;
  flex-flow: row nowrap;
  align-items: center;
  cursor: pointer;
  transition: all .2s ease-out;
}

.label.disabled {
  color: ash-lighter;
  cursor: default;
}

.hiddenCheckbox {
  composes: visuallyHidden;
}

.fakeCheckbox {
  flex: 0 0 auto;
  position: relative;
  width: iconSize;
  height: iconSize;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-right: spacing-xsmall;
  color: teal;
}

.fakeCheckbox.disabled {
  color: ash-lighter;
}

/* Outer border */
.fakeCheckboxIcon {
  content: '';
  z-index: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  width: checkboxSize;
  height: checkboxSize;
  flex: 0 0 checkboxSize;
  border: 2px solid ash-dark;
  border-radius: 2px;
  background-color: transparent;
  transition: all .2s ease-out;
}

.fakeCheckboxIcon.checked,
.fakeCheckboxIcon.indeterminate {
  border-color: teal;
}

/* Inner fill - for "indeterminate" state */
.fakeCheckboxIcon::after {
  content: '';
  display: block;
  width: 10px;
  height: 10px;
  border-radius: 50%;
  transform: scale(0);
  background-color: transparent;
  transition: all .2s ease-out;
}

.fakeCheckboxIcon.indeterminate::after {
  transform: scale(1);
  background-color: teal;
  border-radius: 1px;
}

/* Disabled state - to overwrite colors above */
.fakeCheckboxIcon.disabled {
  border-color: ash-lighter;
}

.fakeCheckboxIcon.disabled::after {
  background-color: ash-lighter;
}

/* SVG Check icon - only show when "checked" state, hide for "indeterminate" */
.fakeCheckboxSelected {
  position: absolute;
  z-index: 2;
  top: 0;
  left: 0;
  transform: scale(0);
  transform-origin: center center;
  opacity: 0;
  transition: all .15s ease-out;
}

.fakeCheckboxSelected.checked {
  opacity: 1;
  transform: scale(0.9); /* not 1, to prevent bleed of actual svg icon */
}

.fakeCheckboxSelected.indeterminate {
  opacity: 0;
  transform: scale(0);
}
