import React from 'react';
import { GroupSearchItemDTO } from '../../service/ScopeSelector.types';
import styles from './ItemList.css';

export interface Props {
  onClick(id: number): void;
  groups: GroupSearchItemDTO[];
  currentGroupId?: number;
}

export class GroupList extends React.Component<Props> {
  render() {
    const { groups, currentGroupId, onClick } = this.props;

    return (
      <ul className={styles.list} data-testid="scope-selector__group-list">
        {groups.map(group => (
          <li key={group.gid}>
            <button
              type="button"
              className={group.gid === currentGroupId ? styles.item__active : styles.item__normal}
              onClick={group.gid === currentGroupId ? undefined : () => onClick(group.gid)}
            >
              <div className={styles.row}>
                <div className={styles.name}>{group.name}</div>
                <div className={styles.id}>{group.gid}</div>
              </div>
            </button>
          </li>
        ))}
      </ul>
    );
  }
}
