import React from 'react';
import classNames from 'classnames/bind';
import styles from './panel.css';

const cx = classNames.bind(styles);

interface Props {
  customHeaderStyle?: {} | null;
  headerContent?: React.ReactElement<any>;
  title: string;
}

export class Panel extends React.Component<Props> {
  render() {
    const defaultStyle = { flex: '1 1 auto' };
    const computedStyle = this.props.customHeaderStyle
      ? { ...defaultStyle, ...this.props.customHeaderStyle }
      : defaultStyle;
    const headerContent = this.props.headerContent ? (
      <div className={cx('headerContent')} style={computedStyle}>
        {this.props.headerContent}
      </div>
    ) : (
      ''
    );

    const title = this.props.title ? <h1 className={cx('titleContent')}>{this.props.title}</h1> : '';

    return (
      <section className={cx('panel')}>
        <header className={cx('panelHeader')}>
          {title}
          {headerContent}
        </header>

        <div className={cx('panelBody')}>{React.Children.toArray(this.props.children)}</div>
      </section>
    );
  }
}
