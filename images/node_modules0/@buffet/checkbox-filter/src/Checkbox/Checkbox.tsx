import { Touchable } from '@buffet/icon';
import React from 'react';
import styles from './Checkbox.css';

interface Props {
  id: string;
  label: string;
  state: string;
  onClick(id: string): void;
  'data-testid'?: string;
}

export const Checkbox: React.StatelessComponent<Props> = props => {
  let iconId = 'checkbox';
  let iconClassName = styles.icon;

  if (props.state === 'checked') {
    iconId = 'checkboxSelected';
    iconClassName = styles.selectedIcon;
  }

  if (props.state === 'partial') {
    iconId = 'checkboxIndeterminateNew';
    iconClassName = styles.partialIcon;
  }

  return (
    <Touchable
      iconClassName={iconClassName}
      onClick={() => props.onClick(props.id)}
      iconId={iconId}
      text={props.label}
      data-testid={props['data-testid']}
    />
  );
};
