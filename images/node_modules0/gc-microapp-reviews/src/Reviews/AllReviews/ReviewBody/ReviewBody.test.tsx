import { shallow } from 'enzyme';
import React from 'react';

import ReviewBody from './ReviewBody';

describe('<ReviewBody />', () => {
  let props;

  beforeEach(() => {
    props = {
      collapsed: true,
      review: {
        Categories: [
          { Value: 'birthdays', Label: 'birthdays' },
          { Value: 'first date', Label: 'first date' },
          { Value: 'retirement parties', Label: 'retirement parties' },
        ],
        RestaurantComment: 'A private note to the restaurant',
        ReviewText: 'A test review body text',
      },
    };
  });

  it('ReviewBody collapsed snapshot', () => {
    const wrapper = shallow(<ReviewBody {...props} />);

    expect(wrapper).toMatchSnapshot();
  });

  it('ReviewBody expanded snapshot', () => {
    props.collapsed = false;
    const wrapper = shallow(<ReviewBody {...props} />);

    expect(wrapper).toMatchSnapshot();
  });

  it('ReviewBody no-private-note snapshot', () => {
    props.RestaurantComment = null;
    props.collapsed = false;
    const wrapper = shallow(<ReviewBody {...props} />);

    expect(wrapper).toMatchSnapshot();
  });

  it('ReviewBody rating-only snapshot', () => {
    props.ReviewText = null;

    const wrapper = shallow(<ReviewBody {...props} />);

    expect(wrapper).toMatchSnapshot();
  });
});
