import { buildAllReviewsQueryString } from './api';

describe('buildAllReviewsQueryString', () => {
  it('should build a querystring from an object of keys', () => {
    const query = {
      rid: 123,
      startDate: '2016-10-10',
    };
    const result = buildAllReviewsQueryString(query);
    expect(result.split('&').length).toBe(2);
    expect(result.includes('rid=123')).toBe(true);
    expect(result.includes('startDate=2016-10-10')).toBe(true);
  });

  it('should throw if query includes neither startDate or endDate', () => {
    const badQueryBuilder = () => buildAllReviewsQueryString({ rid: 123 });
    expect(badQueryBuilder).toThrow();
  });
});
