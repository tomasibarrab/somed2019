import { shallow } from 'enzyme';
import { shallowWithIntl } from 'gca-jest-config';
import React from 'react';

// tslint:disable-next-line:no-var-requires
const UserAgreementsMock = require('../../fixtures/UserAgreementsMock.json');

import { PurePrint as Print } from './Print';

describe('<Print />', () => {
  const props = {
    browserLocale: 'en-US',
    entityInfo: {
      defaultLocale: "en-US",
      legalEntity: "Red Lobster, LLC",
      restaurantName: "Red Lobster, San Bruno",
    },
    feeNotes: 'You will be reimbursed for your iPad purchase',
    pricingByCategory: {
      covers: [UserAgreementsMock.pricingDetails.pricingItems[1], UserAgreementsMock.pricingDetails.pricingItems[2]],
      oneTime: [UserAgreementsMock.pricingDetails.pricingItems[4]],
      recurring: [UserAgreementsMock.pricingDetails.pricingItems[0], UserAgreementsMock.pricingDetails.pricingItems[3]],
    },
    showPrintPage: true,
    termsAndConditions: 'These are some terms, and these are some conditions',
  }

  it('snapshot should match Print view', () => {
    const wrapper = shallowWithIntl(<Print {...props}/>);
    expect(wrapper).toMatchSnapshot();
  });

  props.showPrintPage = false;
  it('snapshot should match read only View for internal users', () => {
    const wrapper = shallowWithIntl(<Print {...props} />);
    expect(wrapper).toMatchSnapshot();
  });
});
