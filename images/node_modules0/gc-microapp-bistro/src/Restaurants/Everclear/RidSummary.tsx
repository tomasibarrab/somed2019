import { pathOr, propOr } from 'ramda';
import React from 'react';

import CodeBlock from '../../common/CodeBlock/CodeBlock';
import { Restaurant, RidEntitiesSummary } from '../../types';

interface EntitySummaryProps {
  data?: Restaurant;
}

export function RidSummary({ data }: EntitySummaryProps) {
  return (
    <div className="data-container">
      {data
      ? <>
          <h3>{propOr(data.rid, 'name', data)}</h3>
          <p className="data-item">
            <span className="key">Product type:</span>
            <span className="value">{propOr('N/A', 'productType', data)}</span>
          </p>
          <p className="data-item">
            <span className="key">Address:</span>
            <span className="value">
              <span>{pathOr('', ['address', 'street1'], data)} </span>
              <span>{pathOr('', ['address', 'street2'], data)} </span>
              <span>{pathOr('', ['address', 'city'], data)} </span>
              <span>{pathOr('', ['address', 'province'], data)} </span>
              <span>{pathOr('', ['address', 'countryCode'], data)} </span>
            </span>
          </p>
          <p className="data-item">
            <span className="key">Product Type</span>
            <span className="value">{propOr('N/A', 'productType', data)}</span>
          </p>
          <p className="data-item">
            <span className="key">Pending ProdType</span>
            <span className="value">{propOr('N/A', 'pendingProductType', data)}</span>
          </p>
          <p className="data-item">
            <span className="key">Test Restaurant</span>
            <span className="value">{propOr(false, 'isTestRestaurant', data)}</span>
          </p>
          <div className="data-spacer" />
          <CodeBlock data={data} />
        </>
      : (null)
      }
    </div>
  );
}
