import React, { SFC } from 'react';
import { FormattedMessage, InjectedIntlProps, injectIntl } from 'react-intl';

import { CreditsModel } from '../../store/customPromotions/customPromotions.types';
import { BlockedDaysSummary } from '../BlockedDays/BlockedDaysSummary';
import { DaysAndTimesSummary } from '../DaysAndTimes/DaysAndTimesSummary';
import { MonthlyBudgetSummary } from '../MonthlyBudget/MonthlyBudgetSummary';
import { SeatingDatesSummary } from '../SeatingDates/SeatingDatesSummary';

interface OP {
  formValuesSnapshot: any;
  className?: string;
  credits: CreditsModel;
}

type Props = OP & InjectedIntlProps;

const ReadOnlyDraftCampaign: SFC<Props> = ({ formValuesSnapshot, credits, className }) => {
  const {
    blockedDays: { custom, default: defaultDays },
    seatingDates: { startDate, endDate },
    daysAndTimes,
    monthlyBudget: { cap, disabled },
  } = formValuesSnapshot;
  return (
    <ul className={className || 'readonly-draft-campaign'}>
      <li>
        <FormattedMessage id="guestcampaigns.custom_promotions.form.monthly_budget_cap_no_asterisk" tagName="h4" />
        <MonthlyBudgetSummary disabled={disabled} cap={cap} credits={credits} />
      </li>
      <li>
        <FormattedMessage id="guestcampaigns.custom_promotions.form.start_and_end_dates" tagName="h4" />
        <SeatingDatesSummary startDate={startDate} endDate={endDate} />
      </li>
      <li>
        <FormattedMessage id="guestcampaigns.custom_promotions.form.days_and_times.legend" tagName="h4" />
        <DaysAndTimesSummary {...daysAndTimes} />
      </li>
      <li>
        <FormattedMessage id="guestcampaigns.custom_promotions.form.blocked_days.legend" tagName="h4" />
        <BlockedDaysSummary custom={custom} default={defaultDays} />
      </li>
    </ul>
  );
};

export default injectIntl(ReadOnlyDraftCampaign);
