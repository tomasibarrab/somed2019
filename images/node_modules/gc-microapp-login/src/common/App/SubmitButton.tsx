import React from 'react';

import { Button } from '@buffet/button';

interface SubmitButtonProps {
  inProgress: boolean;
  label: string;
  onSubmit?: () => void;
}

export const SubmitButton = ({ label, inProgress, onSubmit }: SubmitButtonProps) => {

  const handleSubmit = React.useCallback((e?: React.MouseEvent<HTMLElement>) => {
    if (typeof onSubmit === 'function' && !inProgress) {
      onSubmit();
    }
  }, [onSubmit, inProgress]);

  return (
    <div className="submit-button-panel">
      <Button
        theme="primary"
        htmltype="submit"
        type="button"
        testId="submit-button"
        onClick={handleSubmit}
        busy={inProgress}
      >
        {label}
      </Button>
    </div>
  )
};
