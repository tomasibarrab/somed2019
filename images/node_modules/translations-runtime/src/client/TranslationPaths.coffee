module.exports = (path) ->

  DEFAULT_MANIFEST_FILE_NAME = "manifest.json"
  DEFAULT_BUNDLES_FOLDER = "bundles"
  DEFAULT_SUPPORTING_FILES_FOLDER = "supporting-files"

  new class TranslationPaths

    set: (root, manifestFile, bundlesFolder, supportingFilesFolder) ->
      @setRoot(root)
      @setManifestFile(manifestFile)
      @setBundlesFolder(bundlesFolder)
      @setSupportingFilesFolder(supportingFilesFolder)

    setRoot: (@root) ->
      unless @root
        throw new Error("Please specify a root directory")

    setManifestFile: (@manifestFile=DEFAULT_MANIFEST_FILE_NAME) ->

    setBundlesFolder: (@bundlesFolder=DEFAULT_BUNDLES_FOLDER) ->

    setSupportingFilesFolder: (@supportingFilesFolder=DEFAULT_SUPPORTING_FILES_FOLDER) ->

    bundlesPath: ->
      path.join(@root, @bundlesFolder)

    manifestPath: ->
      path.join(@root, @manifestFile)

    supportingFilesPath: (locale) ->
      path.join(@root, @supportingFilesFolder, locale)
