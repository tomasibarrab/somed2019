/**
 * Mock mixpanel event tracking.
 * This function setup a mixpanel global object to be used for unit testing
 */
module.exports = function mixpanelMock(time = new Date()) {
  window.mixpanel = {
    events: [],

    track: (event, props) => {
      window.mixpanel.events.push({ time, name: event, props });
    },

    reset: () => {
      window.mixpanel.events = [];
    },
  };
  return window.mixpanel;
};
