import React from 'react';
import { InjectedIntlProps, injectIntl } from 'react-intl';
import { BadgeType } from '../../store/campaigns/campaigns.types';

const messageIdByBadgeType: { [index: string]: string } = {
  ending: 'guestcampaigns.list.endsin',
  resuming: 'guestcampaigns.list.resumesin',
};

interface RelativeTimeBadgeProps {
  badgeType: BadgeType;
  time: Date;
}

type Props = RelativeTimeBadgeProps & InjectedIntlProps;

const RelativeTimeBadge: React.SFC<Props> = ({ badgeType, time, intl }) => (
  <strong className={badgeType}>
    {intl.formatMessage(
      {
        id: messageIdByBadgeType[badgeType],
      },
      {
        'in-time-amount': intl.formatRelative(time, { style: 'numeric' }),
      },
    )}
  </strong>
);

export default injectIntl(RelativeTimeBadge);
