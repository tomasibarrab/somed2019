import { useEffect, useState } from 'react';
import checkGlobalToggle from 'shared-utils/checkGlobalToggle';


export function useGlobalToggle(feature: string): null | boolean {
  const [ toggle, setToggle ] = useState<null | boolean>(null);

  useEffect(() => {
    checkGlobalToggle(feature)
      .then(setToggle)
      .catch(() => { /* log the error somewhere? */ });
  }, [feature]);

  return toggle;
}

export default useGlobalToggle;
