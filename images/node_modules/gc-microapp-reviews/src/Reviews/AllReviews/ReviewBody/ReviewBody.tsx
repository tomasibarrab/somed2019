import classNames from 'classnames';
import React from 'react';
import { FormattedMessage } from 'react-intl';

import { Review } from '../../../store/allReviews/allReviews';

import './ReviewBody.scss';

interface Props {
  review: Review;
}

export default function ReviewBody(props: Props) {
  const { review } = props;
  const isRatingOnly = review.ReviewText === null || review.ReviewText.length === 0;

  const categories =
    review.Categories === null ? null : (
      <div className="categories">
        <FormattedMessage tagName="strong" id="reviews.allReviews.categories" />
        : {review.Categories.map(category => category.Label).join(', ')}
      </div>
    );

  const privateNote = review.RestaurantComment ? (
    <div className="private-note">
      <FormattedMessage id="reviews.allReviews.privateNote" />
      {review.RestaurantComment}
    </div>
  ) : (
    ''
  );

  return (
    <div className="gca-review-body">
      {privateNote}
      <p className={classNames('body-text', { 'gca-rating-only-body': isRatingOnly })}>
        {isRatingOnly ? <FormattedMessage id="reviews.allReviews.noComment" /> : review.ReviewText}
      </p>
      {categories}
    </div>
  );
}
