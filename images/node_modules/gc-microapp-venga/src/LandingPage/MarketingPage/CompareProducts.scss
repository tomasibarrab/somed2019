@import 'otkit.scss';
@import './Marketing';

$table-max-width: 840px;
$price-column-width: 240px;
$price-column-width-small: 200px;
$price-column-header-height: 200px;

.section.pricing {
  text-align: center;
}

.feature-table {
  display: flex;
  justify-content: space-between;
  width: 100%;
  max-width: $table-max-width;
  margin: ($price-column-header-height + $spacing-xlarge) auto $spacing-medium;
  position: relative;

  .feature-list {
    width: 100%;
  }

  .feature-list-section {
    border-bottom: 1px solid $ash-lightest;
    text-align: left;

    &:last-child,
    &.expanded {
      border-color: transparent;
    }

    &:not(:first-child).expanded {
      .feature-header {
        margin-top: $spacing-medium;
      }
    }
  }

  .feature-item + .feature-item {
    border-top: 1px solid $ash-lightest;
  }

  .feature-name {
    flex: 1 1 auto;
    padding-right: $spacing-small;
  }

  .feature-availability {
    flex: 0 0 $price-column-width-small;

    @include screen-min-width($screen-lg) {
      flex: 0 0 $price-column-width;
    }

    display: flex;
    justify-content: center;
    align-items: center;

    svg {
      display: block;
    }
  }

  .feature-header,
  .feature-item {
    display: flex;
    line-height: $small-regular-line-height;
    padding: $spacing-small 0;
  }

  .feature-header {
    transition: margin-top 0.3s ease-out;

    .feature-name {
      font-weight: bold;
    }

    .feature-availability {
      transition-property: transform, opacity;
      transition-duration: 150ms;
      transition-timing-function: ease-out;
      transform: translateY(0);
      opacity: 1;
    }
  }

  .expanded {
    .feature-header {
      .feature-availability {
        transform: translateY(100%);
        opacity: 0;
      }
    }
  }

  .feature-prices-wrapper {
    position: absolute;
    top: -$price-column-header-height;
    right: 0;
    bottom: 0;
    display: flex;
    z-index: 1;
  }

  .feature-price-column {
    border: 2px solid $ash-lighter;
    width: $price-column-width-small;

    @include screen-min-width($screen-lg) {
      width: $price-column-width;
    }

    &:first-child {
      border-top-left-radius: $border-radius-small;
      border-bottom-left-radius: $border-radius-small;
    }

    &:last-child {
      border-top-right-radius: $border-radius-small;
      border-bottom-right-radius: $border-radius-small;
    }

    & + .feature-price-column {
      border-left-width: 0;
    }

    .feature-price-header {
      height: $price-column-header-height;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;

      &.preferred-product {
        background-color: $teal-lightest;
        border-top-right-radius: $border-radius-small;
      }

      .section-title {
        margin-bottom: $spacing-xsmall;
      }

      .big-price {
        font-size: $xxlarge-bold-font-size;
        font-weight: $xxlarge-bold-font-weight;
        line-height: $xxlarge-bold-line-height;
      }

      .price-cycle {
        font-size: $small-regular-font-size;
        font-weight: $small-regular-font-weight;
        line-height: $small-regular-line-height;
        margin-bottom: $spacing-medium;
      }
    }
  }
}

.table-fine-print-container {
  display: flex;
  flex-direction: row-reverse;
  justify-content: right;
  width: 100%;
  max-width: $table-max-width;
  margin: 0 auto $spacing-large;

  .fine-print {
    flex: 0 0 (2 * $price-column-width-small);

    @include screen-min-width($screen-lg) {
      flex: 0 0 (2 * $price-column-width);
    }
  }
}
