import { Checkbox, CheckboxProps } from './Checkbox';
import React from 'react';
import styles from './Checkbox.css';
import classnames from 'classnames/bind';

const cx = classnames.bind(styles);

export interface LabeledCheckboxProps extends CheckboxProps {
  checkboxClassName?: string;
  checkboxTestId?: string;
  label: React.ReactNode;
}

export const LabeledCheckbox = React.forwardRef<HTMLInputElement, LabeledCheckboxProps>((props, ref) => {
  const { checkboxClassName, checkboxTestId, className, label, testId, ...checkboxProps } = props;

  return (
    <label className={cx('label', { disabled: props.disabled }, className)} data-testid={testId}>
      <Checkbox {...checkboxProps} testId={checkboxTestId} className={checkboxClassName} ref={ref} />
      {label}
    </label>
  );
});
