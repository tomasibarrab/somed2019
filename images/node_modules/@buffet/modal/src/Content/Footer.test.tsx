import React from 'react';
import { fireEvent, render } from 'react-testing-library';
import { ModalType } from '../types';

import Footer from './Footer';


test('Should render Footer buttons without callbacks', async () => {
  const result = render(
    <Footer dismissLabel="test dismiss" acknowledgeLabel="test ack" />
  );

  expect(result.container.firstChild).toMatchSnapshot();
});

test('Should click Footer Acknowledge button', async () => {
  const btnClick = jest.fn();

  const result = render(
    <Footer acknowledgeLabel="test ack" onAcknowledge={btnClick} dismissLabel="test dismiss" />
  );

  const ackButton = result.getByText('test ack');
  fireEvent.click(ackButton);

  expect(btnClick).toHaveBeenCalled();
});

test('Should click Footer Dismiss button', async () => {
  const btnClick = jest.fn();

  const result = render(
    <Footer dismissLabel="test dismiss" onDismiss={btnClick} acknowledgeLabel="test ack" />
  );

  const ackButton = result.getByText('test dismiss');
  fireEvent.click(ackButton);

  expect(btnClick).toHaveBeenCalled();
});

test('Should render Fullscreen Footer', async () => {
  const result = render(
    <Footer dismissLabel="test dismiss" acknowledgeLabel="test ack" modalType={ModalType.fullscreen} />
  );

  expect(result.container.firstChild).toMatchSnapshot();
});
