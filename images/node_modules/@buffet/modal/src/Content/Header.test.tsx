import React from 'react';
import { render, fireEvent } from 'react-testing-library';

import { ModalType } from '../types';
import Header from './Header';


test('Should render Header with close button', async () => {
  const onClick = jest.fn();

  const result = render(
    <Header onCloseRequest={onClick} />
  );

  expect(result.container.firstChild).toMatchSnapshot();

  const closeButton = result.getByRole('button');
  fireEvent.click(closeButton);

  expect(onClick).toHaveBeenCalled();
});

test('Should render Header with title', async () => {
  const result = render(
    <Header title="test title" />
  );

  expect(result.container.firstChild).toMatchSnapshot();
});

test('Should render Header without a close button', async () => {
  const result = render(
    <Header preventClose={true} />
  );

  expect(result.container.firstChild).toMatchSnapshot();
});


test('Should render Fullscreen Header', async () => {
  const result = render(
    <Header modalType={ModalType.fullscreen} />
  );

  expect(result.container.firstChild).toMatchSnapshot();
});
