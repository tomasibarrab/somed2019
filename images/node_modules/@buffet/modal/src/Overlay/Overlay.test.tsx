import React from 'react';
import { render, fireEvent } from 'react-testing-library';

import Overlay from './Overlay';

test('Should render an Overlay', async () => {
  const result = render(
    <Overlay isClosing={false} />
  );

  expect(result.container.firstChild).toMatchSnapshot();
});

test('Should render a closing Overlay', async () => {
  const result = render(
    <Overlay isClosing={true} />
  );

  expect(result.container.firstChild).toMatchSnapshot();
});

test('Should trigger a close when clicked', async () => {
  const onClick = jest.fn();

  const result = render(
    <Overlay isClosing={false} requestClose={onClick} />
  );

  fireEvent.click(result.container.firstChild as Element);
  expect(onClick).toHaveBeenCalled();
});
