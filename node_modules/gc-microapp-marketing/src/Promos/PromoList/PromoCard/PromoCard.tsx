import classNames from 'classnames';
import * as React from 'react';
import { FormattedMessage } from 'react-intl';
import { RestaurantPromo } from '../../../store/promos/promos.types';
import PromoIcon from './icons/PromoIcon';
import './PromoCard.scss';
import PromoCardActions from './PromoCardActions';
import PromoCardDetails from './PromoCardDetails';

interface Props {
  promo: RestaurantPromo;
}

function PromoCard({ promo }: Props) {
  const isActive = !!promo.promoRestaurant && promo.promoRestaurant.isActive;

  return (
    <div className={classNames('promo-card', { joined: isActive, unjoined: !isActive })}>
      <div className="column-image">
        <PromoIcon id={promo.id} />
      </div>
      <div className="column-title">{promo.promo.selfServeDetails.name}
      </div>
      <PromoCardDetails promo={promo} isActive={isActive} />
      <PromoCardActions promo={promo} />
    </div>
  );
}

export default PromoCard;
