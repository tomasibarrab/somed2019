const TWENTY_FOUR = 'HH:mm';
const TWELVE = 'h:mm a';

export const timeFormats = {
  AU: TWELVE,
  CA: TWENTY_FOUR,
  DE: TWENTY_FOUR,
  ES: TWELVE,
  FR: TWENTY_FOUR,
  IT: TWENTY_FOUR,
  JP: TWENTY_FOUR,
  MX: TWELVE,
  NL: TWENTY_FOUR,
  UK: TWELVE,
  US: TWELVE,
};

export function getTimeFormat(locale = '') {
  if (typeof locale !== 'string') {
    throw new Error(
      `You must pass a string of either a two-character country code or a lang-locale separated by a dash.
      You passed an argument of type: ${typeof locale}`,
    );
  }

  const countryCode = locale.length === 2 ? locale : locale.split('-')[1] || '';
  const normalizedCountryCode = countryCode.toUpperCase();

  return timeFormats[normalizedCountryCode] || TWELVE;
}

export default getTimeFormat;
