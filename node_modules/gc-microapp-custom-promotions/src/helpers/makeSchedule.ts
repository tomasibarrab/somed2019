import { times } from '../CustomPromotions/DaysAndTimes/constants';

const makeSchedule = (daysAndTimes: any) => {
  const schedule: any = [];
  Object.keys(daysAndTimes).forEach(dayKey => {
    const day = daysAndTimes[dayKey];
    Object.keys(day)
      .filter(timeKey => day[timeKey]) // Only days set to `true`
      .forEach(timeKey => {
        schedule.push({
          dayOfWeek: dayKey.toUpperCase(),
          endTime: times[timeKey].endTime,
          startTime: times[timeKey].startTime,
        });
      });
  });
  return schedule;
};

export default makeSchedule;
