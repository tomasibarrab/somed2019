import { shallowWithIntl } from 'gca-jest-config';
import React from 'react';

import { PureUserForm as UserForm } from './UserForm';

describe('UserForm', () => {

  const fakeFormApi = {
  };

  const initialValues = {
    email: 'test@test.com',
    firstName: 'first',
    lastName: 'last',
    phone: '0123456789',
    roles: [],
  };
  const values = {
    email: 'test@test.com',
    firstName: 'first',
    lastName: 'last',
    phone: '0123456789',
    roles: [],
    rolesSet: [],
  };

  it('should render the Restaurant version as the snapshot', () => {
    const wrapper = shallowWithIntl(
      <UserForm
        saveInProgress={false}
        onCancel={jest.fn}
        batch={jest.fn}
        handleSubmit={jest.fn as any}
        initialValues={initialValues}
        values={values}
        errors={{}}
        form={fakeFormApi as any}
        isGroupApp={false}
        scopeType="restaurant"
      />,
    );
    expect(wrapper).toMatchSnapshot();
  });

  it('should render the Group version as the snapshot', () => {
    const wrapper = shallowWithIntl(
      <UserForm
        saveInProgress={false}
        onCancel={jest.fn}
        batch={jest.fn}
        handleSubmit={jest.fn as any}
        initialValues={initialValues}
        values={values}
        errors={{}}
        form={fakeFormApi as any}
        isGroupApp={true}
        scopeType="group"
      />,
    );
    expect(wrapper).toMatchSnapshot();
  });
});
