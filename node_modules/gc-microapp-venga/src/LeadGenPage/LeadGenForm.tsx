import { Button } from '@buffet/button';
import React from 'react';
import { FormattedMessage, InjectedIntl } from 'react-intl';

import { InputFinalField } from 'shared-react-atomic-ui/finalform-fields';
import { formatPhone } from 'user-accounts/src/utils/inputHelpers';

import { formatTrimSpaces } from '../helpers/inputHelpers';


interface FormProps {
  handleSubmit: () => void;
  intl: InjectedIntl;
  isSending: boolean;
}

const LeadGenForm = ({ handleSubmit, intl, isSending }: FormProps) => (
  <form className="leadgen-form" onSubmit={handleSubmit}>
    <div className="form-section">
      <InputFinalField
        id="firstName-input"
        name="FirstName"
        label={intl.formatMessage({ id: 'venga.leadgen.form.fields.firstName' })}
        disabled={isSending}
        // showValidationWhenPristine={!!submitErrors}
      />
      <InputFinalField
        id="lastName-input"
        name="LastName"
        label={intl.formatMessage({ id: 'venga.leadgen.form.fields.lastName' })}
        disabled={isSending}
        // showValidationWhenPristine={!!submitErrors}
      />
    </div>

    <div className="form-section">
      <InputFinalField
        id="email-input"
        name="Email"
        label={intl.formatMessage({ id: 'venga.leadgen.form.fields.email' })}
        disabled={isSending}
        // showValidationWhenPristine={!!submitErrors}
        format={formatTrimSpaces}
      />
      <InputFinalField
        id="phone-input"
        name="Phone"
        label={intl.formatMessage({ id: 'venga.leadgen.form.fields.phone' })}
        disabled={isSending}
        // showValidationWhenPristine={!!submitErrors}
        format={formatPhone}
      />
    </div>

    <Button type="button" theme="primary" onClick={() => null} htmltype="submit" busy={isSending}>
      <FormattedMessage id="venga.leadgen.form.button.send" />
    </Button>
  </form>
);

export default LeadGenForm;
