import get from 'lodash/get';
import React from 'react';
import ReactDOM from 'react-dom';
import { LanguageProvider, MessageMap } from './common/LanguageProvider/LanguageProvider';

import { PermissionRequired } from 'PermissionRequired';
import { translationMessages } from './translations/i18n';

import 'style.scss';

const locale = get(window, ['gcaConfig', 'i18n', 'primaryLocale'], 'en-us');

const render = (translatedMessages: MessageMap) => {
  ReactDOM.render(
    <LanguageProvider messages={translatedMessages} locale={locale}>
      <PermissionRequired title="title" message="msg1" />
    </LanguageProvider>,
    document.querySelector('#app'),
  );
};

render(translationMessages);
