import { shallow } from 'enzyme';
import { shallowWithIntl } from 'gca-jest-config';
import React from 'react';
import { PureReview } from './Review';

const review = {
  Categories: null,
  CountryCode: 'UK',
  CustomerNickname: null,
  DinedDateTime: '2016-10-29T20:30:00+01:00',
  DomainId: 70,
  Language: 'en',
  LastModifiedDateTimeUtc: '2016-10-31T11:35:42.974Z',
  Locale: 'en-GB',
  MetroId: 72,
  ModerationState: 2,
  ProTags: ['SpecialOccasions', 'GoodForDates', 'BusinessMeals'],
  Rating: {
    Ambience: 5,
    Food: 4,
    Noise: null,
    Overall: 5,
    Service: 5,
    Value: 5,
  },
  Recommended: true,
  RestaurantComment: '',
  ReviewId: 'OT-68629-109201908-340053621444',
  ReviewText:
    // tslint:disable-next-line:max-line-length
    'Lovely restaurant and atmosphere , although I wasnt happy with a particular dish they changed it with no problems .Definitely go again!',
  SimplifiedModerationState: 'APPROVED',
  SubmissionDateTimeUtc: '2016-10-31T11:13:58.014Z',
  UpdatedByDinerDateTimeUtc: null,
};

describe('<PureReview />', () => {
  it('default snapshot', () => {
    const props = {
      locale: 'en-us',
      review,
    };

    const wrapper = shallowWithIntl(<PureReview {...props} />);

    expect(wrapper).toMatchSnapshot();
  });

  it('rating only snapshot', () => {
    review.ReviewText = null;
    const props = {
      locale: 'en-us',
      review,
    };

    const wrapper = shallowWithIntl(<PureReview {...props} />);

    expect(wrapper).toMatchSnapshot();
  });
});
