import { shallow } from 'enzyme';
import { shallowWithIntl } from 'gca-jest-config';
import React from 'react';

import { ReviewHeader } from './ReviewHeader';

describe('<ReviewHeader />', () => {
  let props;
  beforeEach(() => {
    props = {
      locale: 'en-US',
      review: {
        CustomerNickname: 'OTUser',
        DinedDateTime: '2016-05-10',
        Recommended: true,
        SubmissionDateTimeUtc: '2016-12-05',
      },

      // Always use the same timezone for tests so snapshots don't break
      timeZone: 'UTC',
    };
  });

  it('ReviewHeader default snapshot', () => {
    const wrapper = shallowWithIntl(<ReviewHeader {...props} />);

    expect(wrapper).toMatchSnapshot();
  });

  it('ReviewHeader no-nickname snapshot', () => {
    props.review.CustomerNickname = null;
    const wrapper = shallowWithIntl(<ReviewHeader {...props} />);

    expect(wrapper).toMatchSnapshot();
  });

  it('ReviewHeader not-recommended snapshot', () => {
    props.review.Recommended = false;
    const wrapper = shallowWithIntl(<ReviewHeader {...props} />);

    expect(wrapper).toMatchSnapshot();
  });
});
